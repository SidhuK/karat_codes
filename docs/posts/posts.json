[
  {
    "path": "posts/vscode-vs-rstudio-worth-the-switch/",
    "title": "VSCode vs RStudio — Worth the Switch?",
    "description": "Does Microsoft’s flagship code editor hold up against the old favorite?",
    "author": [
      {
        "name": "Karat Sidhu",
        "url": {}
      }
    ],
    "date": "2022-05-19",
    "categories": [
      "VSCode",
      "Review",
      "Long-read"
    ],
    "contents": "\n\nContents\nRStudio vs VSCode -\nShould you switch?\nIf you\nare only interested in my conclusion or the TLDR; :\nInstallation\nSetting up the editor\nWorking\nwith R code\nRunning Code\nA Note\nAbout Quarto\nWhat I love about R in\nVSCode\nWhat I don’t love about R in\nVSCode\nThings I hope to try soon\nwith VScode\nConclusion\nFurther\nReading\n\n\n\nRStudio vs VSCode -\nShould you switch?\nRStudio is the preferred IDE/Editor for running R code for most\npeople, but VSCode has rapidly become one of the most popular code\neditors for a huge number of other languages. This writeup is for people\nwho are very familiar with RStudio and want to see how the two compare.\nSo, I will not be talking a lot about RStudio because for that reason,\nbut going into the strengths and weaknesses of VSCode compared to\nRStudio.\nFurther, I this is a very brief overview comparing the community\n(free) versions of both editors, I cannot speak to the R-Studio paid\neditions.\nI am a low-intermediate level programmer who doesn’t use R as much as\nsome people do but whenever I do, RStudio is my preferred editor of\nchoice. For everything else (Python, Jupyter, HTML, CSS, JS,etc ), I\ntend to use VSCode. I tried VSCode for R because I wanted to see if I\ncould use a single code editor for everything I do.\nRStudio is an outstanding piece of software and has never given me\nany major problems during my workflows, this was just an experiement to\nfind a one-size-fits all code editor/IDE.\nIf you\nare only interested in my conclusion or the TLDR; :\nNo, I will not be switching to VSCode for R - FOR NOW. But I love how\ngreat R looks and works on it already.\nNow that we’re done with that, lets get into some of the details:\nInstallation\nAssuming you already have R installed on your system, Installing\nVSCode and R is very straightforward;\ndownload the .pkg or .exe file and install the code editor;\ninstall the languageserver package for R\n(install.packages(“languageserver”)\ninstall the R extension from the markeplace (https://marketplace.visualstudio.com/items?itemName=REditorSupport)\nand you’re ready to start coding.\nOptional: You can install a better terminal alternative like radian,\na debugger and a better plotviewer like httpgd because the builtin\nplotviewer for VSCode isn’t a particualrly good one.\nSetting up the editor\nYou can now start working with code but there are potentially times\nyou could run into errors while running your code.\nTo eliminate any potential errors/code not work, you must make sure\nthe R path is specified in the VSCode preferences (cmd+shift+p on mac)\nand search for R path. Finding the path is simple, open R and type:\nR.home(“bin”) and copy the output path.\nAnother somewhat major tweak you would want to do to the editor:\nSome simple shortcuts like the pipe operator doesn’t work out of the\nbox, so adding a shortcut for “%>%” or “|>” depending on your\npreference can be done using the following method:\nhttps://stackoverflow.com/questions/58731362/how-do-i-had-an-alias-for-magrittr-pipe-from-r-in-vscode\nHow do I had an alias for magrittr pipe from R in vscode - Stack\nOverflow\nWorking with R code\nHere is a comparison of my two setups side by side with the same file\nand environment:\n\n\nworking with R is very similar to a regular RStudio IDE,\nR-extension provides the same support for\ninstalling packages,\nplots and plot viewer\ngrobal enviroment\ndatasets\nplots\nlists, variables, etc.\n\nchecking loaded packages etc.\nTerminal and console position can be modified to make get the input\nand output panes next to each other, something you cannot do well in\nR-Studio. So VSCode feels very familiar and running code is highly\nintuitive.\nRunning Code\nRunning a piece of code is again, very similar to RStudio. A run file\nbutton is located at the top of the panel and individual lines of code\ncan be run using the cmd+return shortcut on mac. The shortcut can be\neasily modified similar to how the pipe operator shortcut is modified\nabove.\nIn terms of running and getting results for plain R code and .R\nfiles; VSCode is a great alternative for a lot of people including me.\nSo if you’re like me and you use R mainly for statistical analysis, data\nvisualization and data analysis; give VSCode a try.\nWorking with Notebooks and Rmd:\nThis is where VSCode falls so much behind RStudio it becomes a one\nhorse race. The notebook support in VSCode is in a single word -\nterrible. Running code chunks in a .Rmd notebook feels and looks dated.\nMy existing notebooks created in RStudio were buggy in VSCode despite\nnot showing any errors in RStudio. Creating new notebooks is unintuitive\nand still a long way behind RStudio in terms of the overall feel to\nit.\nI have searched for solutions, including globally installing pandoc,\nknitr and rmarkdown etc and trying multiple versions of R and the\npackages mentioned previously to no avail. This is one of the biggest\nreasons I am not completely switching to VSCode just yet.\nA Note About Quarto\nI recently started playing around with Quarto, which looks like the\nnatural successor to Rmarkdown. So far, I have only used Quarto in\nRStudio and am a big fan of the way it looks and works. I have yet to\ntry it on VSCode, so I cannot comment on it.\nWhat I love about R in\nVSCode\nSpeed - VSCode is quick to load up, fast and snappy when the code\nis running. I did not do any analysis on the times it took to load a\npiece of code on one vs the other but VSCode ‘feels’ quicker.\nOne stop shop for R, Python, HTML, CSS, and dozens other\nlanguages - and does it much better than RStudio\nMULTIPLE R SESSIONS!!! - Such a great feature when you’re trying\nto develop several related projects at the same time.\nCode Refactoring - much better than RStudio\nColor picker and color blocksFor people like me who work with a\nlot of data visualizations, the ability to see the colors and use the\ncolor blocks to pick colors seamlessly is a gamechanger.\n\nLanguage server - document outline - Navigating through a long\nline of code (and multiple R files) is painless\nIntellisense and Code Completion - faster, more user\nfriendly\n\nHelp and documentation: Same information, much more streamlined\n\nLiveshare and working with teams\nCode Snippets are easier to use and set up than RStudio\nMuch easier git and version control integration\nFunctions are handled brilliantly. Hover over them and you get\nall kinds of information and callbacks.\nCode organization: Code sections allow for folding of code, makes\nfo easier code reading and naviation and cleaner code overall.\n\nCustomizable and make it your own by editing the json files inside\nVSCode.\nSo VSCode has some amazing features that could really tempt an\nRStudio user.\nWhat I don’t love about R in\nVSCode\nR-studio works great out of the box, no need to install extensions\nwhile VSCode setup for R can be tricky and can sometimes involve trail\nand error\nR-templates inside R studio are amazing, and easy to find and\nuse\nDataviewer in RStudio feels a lot better than VScode, especially\nwhen working with a large dataset\nEven though I use VSCode for Python, HTML, CSS etc, coding R in it,\nespecially for the first few hours feels very odd and in a way\nunfamiliar despite the very familiar overall IDE organization\nNOTEBOOK SUPPORT - If you work with rmd more than r, DO NOT SWITCH.\nRunning chunks of code is very clunky and poor\nKnitting notebooks doesnt work well at all, and can lead to errors a\nlot of the time.\nPlot viewers are still not as good as RStudio\nTerminal will sometimes throw errors in VSCode that you wouldn’t\nfind for the same piece of code in RStudio\nRStudio just feels a lot more tailored to a data\nscientist/statistical analysis person, while VSCode can feel like a\ndeveloper-centric code editor\nFeels a lot more tailored to a data scientist/statistical\nanalysis\nThings I hope to try soon\nwith VScode\nQuarto\nRblogdown and Rbookdown\nMore Debugging\nRadian terminal\nConclusion\nDo I love R in VSCode so far? Absolutely\nEnough to make me want to switch? Not yet.\nWhy? Notebooks\nWill I switch soon? Hopefully yes.\nIf\nyou liked this, and have any suggestions for me; find me on twitter: https://twitter.com/karat_sidhu\nFurther Reading\nA great video and blog by Kun Ren on the subject : https://youtu.be/9xXBDU2z_8Y\nA blog on the same subject: https://renkun.me/2019/12/11/writing-r-in-vscode-a-fresh-start/\nRunning R in VSCode: https://www.infoworld.com/article/3625488/how-to-run-r-in-visual-studio-code.html\nInsalling R in VSCode: https://code.visualstudio.com/docs/languages/r\nBonus: Quarto vs RMD: https://yihui.org/en/2022/04/quarto-r-markdown/\nThis writeup is also available on Towards Data Science\nVSCode\nvs RStudio Worth the switch? | Karat Sidhu | Towards Data Science\n(medium.com)\n\n\n\n",
    "preview": {},
    "last_modified": "2022-05-21T12:15:45+05:30",
    "input_file": {}
  },
  {
    "path": "posts/looking-at-eurovision-winners-with-gt/",
    "title": "Eurovision winners with gt() and gtextras()",
    "description": "Using gt() package to make a great looking table.",
    "author": [
      {
        "name": "Karat Sidhu",
        "url": {}
      }
    ],
    "date": "2022-05-17",
    "categories": [
      "TidyTuesday",
      "Data-Viz",
      "TidyVerse"
    ],
    "contents": "\n\nContents\nLoading\nLibraries\nload data\nCleaning\nData\nJust the finale winners\nData to make the table\nMaking\nthe gt() table\n\nMaking a table using the gt and gtextras package in R to look at the\nEurovision winners from 2004 to 2022.\nLoading Libraries\n\n\nlibrary(tidyverse)\nlibrary(gt)\nlibrary(gtExtras)\n\n\n\nload data\n\n\neurovision <-\n  readr::read_csv(\n    \"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-05-17/eurovision.csv\"\n  )\n\n\n\nCleaning Data\n\n\neurovision <- eurovision |>\n  select(\n    -c(\n      event_url,\n      artist_url,\n      country_emoji,\n      rank_ordinal,\n      running_order,\n      qualified,\n      event\n    )\n  )\n\n\n\nJust the finale winners\n\n\neurovision <- eurovision |>\n  filter(section == \"grand-final\") |>\n  group_by(year) |>\n  mutate(average_points = mean(total_points)) |>\n  ungroup()\n\n\n\nData to make the table\n\n\neurovision_table <- eurovision |>\n  group_by(artist_country) |>\n  filter(section == \"grand-final\") |>\n  filter(winner == \"TRUE\") |>\n  select(-c(section, rank, winner)) |>\n  select(year, everything())\n\n\n\nMaking the gt() table\n\n\ntable  <- eurovision_table |>\n  gt() |>\n  gt_color_rows(total_points:average_points,\n                type = \"discrete\",\n                palette = \"ggsci::orange_material\",\n  ) |>\n  gt_img_rows(columns = image_url,\n              img_source = \"web\",\n              height = 30) |>\n  gt_theme_538() |>\n  tab_header(\n    title = \"Eurovision Song Contest Winners 2004 - 2022\",\n    subtitle = \"Winners of the Eurovision Song contest grand finales from 2004 to 2022. An average of 26 countries participated\n    in the song contest and the following countries won after advancing to the final rounds. The table details the winning artists\n    and the total points for the corresponding winners; in addition total scores for each winner and the average score for that year.\n    Data grouped by country.\"\n  ) |>\n  tab_source_note(source_note = md(\n    glue::glue(\n      \"Data : {fontawesome::fa('twitter')} Tanya Shapiro | Graphic : {fontawesome::fa('github')} github.com/SidhuK\"\n    )\n  )) |>\n  tab_footnote(footnote = \"Highest Points by a winner\",\n               locations = cells_row_groups(groups = \"Portugal\")) |>\n  tab_style(locations = cells_title(groups = 'title'), # format the main title\n            style = list(\n              cell_text(\n                font = google_font(name = 'Bebas Neue'),\n                size = px(60),\n                color = 'indianred',\n                weight = 700\n              )\n            )) |>\n  gt_merge_stack(col1 = host_city,\n                 col2 = host_country) |> # trim the table a bit\n  gt_merge_stack(col1 = artist,\n                 col2 = song) |>\n  tab_options(table.background.color = \"#f1ebda\",\n              column_labels.background.color = \"#f1ebda\") # set the bg color\ntable\n\n\n\nEurovision Song Contest Winners 2004 - 2022\n    Winners of the Eurovision Song contest grand finales from 2004 to 2022. An average of 26 countries participated\n    in the song contest and the following countries won after advancing to the final rounds. The table details the winning artists\n    and the total points for the corresponding winners; in addition total scores for each winner and the average score for that year.\n    Data grouped by country.\n    year\n      host_city\n      artist\n      image_url\n      total_points\n      average_points\n    Ukraine\n    2022\nTurin\nItaly\nKalush Orchestra\nStefania\n\n631\n185.600002016\nStockholm\nNetherlands\nJamala\nZitti E Buoni\n\n534\n187.384622004\nIstanbul\nIsrael\nRuslana\nArcade\n\n280\n87.00000Italy\n    2021\nRotterdam\nPortugal\nMåneskin\nTOY\n\n524\n174.00000Netherlands\n    2019\nTel Aviv\nUkraine\nDuncan Laurence\nAmar Pelos Dois\n\n498\n182.92308Israel\n    2018\nLisbon\nSweden\nNetta\n1944\n\n529\n191.84615Portugal1\n    2017\nKyiv\nAustria\nSalvador Sobral\nHeroes\n\n758\n187.38462Sweden\n    2015\nVienna\nDenmark\nMåns Zelmerlöw\nRise Like a Phoenix\n\n365\n85.925932012\nBaku\nSweden\nLoreen\nOnly Teardrops\n\n372\n93.69231Austria\n    2014\nCopenhagen\nAzerbaijan\nConchita Wurst\nEuphoria\n\n290\n82.53846Denmark\n    2013\nMalmö\nGermany\nEmmelie de Forest\nRunning Scared\n\n281\n87.00000Azerbaijan\n    2011\nDüsseldorf\nNorway\nEll/Nikki\nSatellite\n\n221\n99.76000Germany\n    2010\nOslo\nRussia\nLena\nFairytale\n\n246\n90.48000Norway\n    2009\nMoscow\nSerbia\nAlexander Rybak\nBelieve\n\n387\n97.44000Russia\n    2008\nBelgrade\nFinland\nDima Bilan\nMolitva\n\n272\n99.76000Serbia\n    2007\nHelsinki\nGreece\nMarija Šerifović\nHard Rock Hallelujah\n\n268\n101.50000Finland\n    2006\nAthens\nUkraine\nLordi\nMy Number One\n\n292\n91.83333Greece\n    2005\nKyiv\nTurkey\nHelena Paparizou\nWild Dances\n\n230\n94.25000Data :  Tanya Shapiro | Graphic :  github.com/SidhuK\n    1 Highest Points by a winner\n    \n\n\n\n\n",
    "preview": {},
    "last_modified": "2022-05-21T10:45:03+05:30",
    "input_file": {}
  },
  {
    "path": "posts/new-york-times-bestsellers/",
    "title": "New York Times Bestsellers",
    "description": "Working with geom_jitter and ggrepel to create a great looking plot.",
    "author": [
      {
        "name": "Karat Sidhu",
        "url": {}
      }
    ],
    "date": "2022-05-10",
    "categories": [
      "TidyTuesday",
      "Data-Viz",
      "TidyVerse"
    ],
    "contents": "\n\nContents\nLoading\nLibraries\nLoading Data\nData Cleaning and basic\nEDA\nMaking the\nplot\n\nLooking at the New York Times Bestsellers by Decade; data by\nPost45\nLoading Libraries\n\n\nlibrary(tidyverse)\nlibrary(showtext)\nshowtext_opts(dpi = 450)\nshowtext_auto(enable = TRUE)\nlibrary(ggtext)\nlibrary(ggrepel)\nfont_add_google(family = \"Roboto\", name = \"Roboto\")\nfont_add_google(family = \"Outfit\", name = \"Outfit\")\n\n\n\nLoading Data\n\n\nnyt_titles <-\n    readr::read_tsv(\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-05-10/nyt_titles.tsv\")\nnyt_full <-\n    readr::read_tsv(\"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-05-10/nyt_full.tsv\")\ncolors_legend <- c(\n    \"#FFB327\",\n    \"#08748f\",\n    \"#4F607C\",\n    \"#2d6554\",\n    \"#8E038E\",\n    \"#5A6D87\",\n    \"#000000\",\n    \"#725050\",\n    \"#542ea5\",\n    \"#304d30\",\n    \"#8E038E\"\n)\n\n\n\nData Cleaning and basic EDA\n\n\nnytitiles_weeks <- nyt_titles %>%\n    mutate(\n        decade = (year %/% 10) * 10\n    ) %>%\n    group_by(decade) %>%\n    slice(which.max(total_weeks)) %>%\n    mutate(title_new = paste(title, \"(\", total_weeks, \"Weeks )\"))\nnytitiles_weeks\n\n\n# A tibble: 10 × 10\n# Groups:   decade [10]\n      id title          author  year total_weeks first_week debut_rank\n   <dbl> <chr>          <chr>  <dbl>       <dbl> <date>          <dbl>\n 1   481 ANTHONY ADVER… Herve…  1933          86 1933-07-03          1\n 2  6157 THE ROBE       Lloyd…  1942         111 1942-11-09          5\n 3  4749 THE CAINE MUT… Herma…  1951         123 1951-04-22         13\n 4  6887 TO KILL A MOC… Harpe…  1960          98 1960-08-07         14\n 5  2363 ILLUSIONS      Richa…  1977          80 1977-06-19         10\n 6  4679 THE BONFIRE O… Tom W…  1987          56 1987-11-08          1\n 7  3343 OH, THE PLACE… Dr. S…  1990         178 1990-02-25         14\n 8  4918 THE DA VINCI … Dan B…  2003         165 2003-04-06          9\n 9   381 ALL THE LIGHT… Antho…  2014         132 2014-05-25          2\n10   414 AMERICAN DIRT  Jeani…  2020          34 2020-02-09         12\n# … with 3 more variables: best_rank <dbl>, decade <dbl>,\n#   title_new <chr>\n\nMaking the plot\n\n\nnyt_titles %>%\n    mutate(\n        decade = (year %/% 10) * 10\n    ) %>%\n    ggplot(aes(\n        x = as.factor(reorder(decade, -decade)),\n        y = total_weeks,\n        group = decade,\n        color = as.factor(decade)\n    )) +\n    geom_jitter(width = 0.25, alpha = 0.2, size = 0.85) +\n    geom_text_repel(aes(\n        label = title_new,\n        family = \"Outfit\"\n    ),\n    size = 4.5,\n    data = nytitiles_weeks, alpha = 0.9,\n    box.padding = 0.35\n    ) +\n    geom_point(\n        data = nytitiles_weeks,\n        aes(\n            x = as.factor(decade),\n            y = total_weeks\n        ),\n        size = 2\n    ) +\n    theme_minimal() +\n    labs(\n        title = \"NYTIMES BESTSELLERS\",\n        subtitle = \"**Bestsellers; by Decade.** <br>Looking at the number of weeks each book stayed on the NYTimes bestsellers<br> list every decade. Most popular bestselling book with the most weeks on the <br> list is labelled for each decade.\",\n        caption = \"Data: Post45 | Graphic: github.com/SidhuK\"\n    ) +\n    ylab(\"Weeks\") +\n    theme(\n        legend.position = \"none\",\n        panel.grid.major.y = element_blank(),\n        panel.grid.minor.y = element_blank(),\n        plot.title = element_markdown(family = \"Cookie\", size = 10),\n        plot.subtitle = element_markdown(family = \"Outfit\", size = 18),\n        plot.caption = element_markdown(family = \"Outfit\", size = 12),\n        axis.title.y = element_blank(),\n        axis.title.x = element_text(size = 18),\n        axis.text = element_text(size = 14),\n    ) +\n    scale_color_manual(\n        values = colors_legend,\n        name = NULL\n    ) +\n    coord_flip()\n\n\n\n\n\n\n\n",
    "preview": "posts/new-york-times-bestsellers/new-york-times-bestsellers_files/figure-html5/unnamed-chunk-4-1.png",
    "last_modified": "2022-05-21T12:18:55+05:30",
    "input_file": {},
    "preview_width": 1344,
    "preview_height": 1920
  },
  {
    "path": "posts/making-streamgraphs-in-r/",
    "title": "Making streamgraphs in R",
    "description": "TidyTuesday May 03,2022 ; Power and Energy Capacity visualization.",
    "author": [
      {
        "name": "Karat Sidhu",
        "url": {}
      }
    ],
    "date": "2022-05-03",
    "categories": [
      "TidyTuesday",
      "Data-Viz",
      "TidyVerse"
    ],
    "contents": "\n\nContents\nLoading\nLibraries\nLoading and cleaning Data\nMaking the\nplot\nVisit my\nTidyTuesday Repo for a better look.\n\n\nTidyTuesday Dataset for Week of May 03, 2022. The dataset featured\nthe hidden gems files from Berkeley Lab/Dept of Energy.\nLoading Libraries\n\n\nlibrary(ggstream)\nlibrary(tidyverse)\nlibrary(patchwork)\nlibrary(showtext)\nshowtext_opts(dpi = 450)\nshowtext_auto(enable = TRUE)\nlibrary(ggtext)\nfont_add_google(family = \"Bangers\", name = \"Bangers\")\n\n\n\nLoading and cleaning Data\n\n\ncapacity <-\n  readr::read_csv(\n    'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-05-03/capacity.csv'\n  )\nwind <-\n  readr::read_csv(\n    'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-05-03/wind.csv'\n  )\nsolar <-\n  readr::read_csv(\n    'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-05-03/solar.csv'\n  )\naverage_cost <-\n  readr::read_csv(\n    'https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2022/2022-05-03/average_cost.csv'\n  )\ncapacity <- capacity %>%\n  mutate(across(where(anyNA), ~ replace_na(., 0)))\ncapacity <- capacity %>%\n  mutate(prior = standalone_prior + hybrid_prior) %>%\n  mutate(new = standalone_new + hybrid_new)\n\n\n\nMaking the plot\n\n\ncolors_legend <- c(\"#FFB327\",\n                   \"#D1F1F9\",\n                   \"#4F607C\",\n                   \"#c5b689\",\n                   \"#8E038E\",\n                   \"#5A6D87\",\n                   \"#000000\")\nplot1 <- ggplot(capacity, aes(year, prior, fill = type)) +\n  geom_stream(\n    extra_span = .25,\n    true_range = \"none\",\n    bw = .85,\n    size = 1.25,\n    sorting = \"onset\"\n  ) +\n  geom_stream(\n    geom = \"contour\",\n    color = \"white\",\n    extra_span = .25,\n    true_range = \"none\",\n    bw = .85,\n    size = 0.09,\n    sorting = \"onset\"\n  ) +\n  scale_fill_manual(values = colors_legend,\n                    name = NULL) +\n  scale_x_continuous(breaks = c(2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020)) +\n  theme_minimal(base_family = \"Bangers\") +\n  theme(\n    plot.background = element_rect(fill = \"grey84\", color = NA),\n    panel.grid = element_blank(),\n    axis.title = element_blank(),\n    axis.text.y = element_blank(),\n    legend.position = \"bottom\",\n    legend.text = element_text(color = \"grey40\", size = 14),\n    legend.box.margin = margin(t = 30),\n    legend.background = element_rect(color = \"grey40\",\n                                     size = .3,\n                                     fill = \"grey95\"),\n    legend.key.height = unit(.25, \"lines\"),\n    legend.key.width = unit(2.5, \"lines\"),\n    plot.margin = margin(rep(20, 4))\n  ) +\n  labs(title = \"Prior Generation Capacity (Gigawatts)\") +\n  theme(plot.title = element_text(hjust = 0.5))\nplot1\n\n\n\nplot2 <- ggplot(capacity, aes(year, new, fill = type)) +\n  geom_stream(\n    extra_span = .25,\n    true_range = \"none\",\n    bw = .85,\n    size = 1.25,\n    sorting = \"onset\"\n  ) +\n  geom_stream(\n    geom = \"contour\",\n    color = \"white\",\n    extra_span = .25,\n    true_range = \"none\",\n    bw = .85,\n    size = 0.02,\n    sorting = \"onset\"\n  ) +\n  scale_fill_manual(values = colors_legend,\n                    name = NULL) +\n  scale_x_continuous(breaks = c(2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020)) +\n  theme_minimal(base_family = \"Bangers\") +\n  theme(\n    plot.background = element_rect(fill = \"grey84\", color = NA),\n    panel.grid = element_blank(),\n    axis.title = element_blank(),\n    axis.text.y = element_blank(),\n    legend.position = \"none\",\n    plot.margin = margin(rep(20, 4))\n  ) +\n  labs(title = \"New Generation Capacity (Gigawatts)\") +\n  theme(plot.title = element_text(hjust = 0.5))\nplot_final <- plot1 / plot2 +\n  plot_annotation(\n    title = 'Power Generation Capacity',\n    subtitle = 'The shreamcharts describe the power generation from various sources (solar, nuclear, wind, etc) along with <br>\n    their capacity over the years. The graphs are separated into New and Prior Generation <br> In Gigawatts. <br> ',\n    caption = 'Data: Berkeley Lab | Graphic: Github.com/SidhuK ',\n    theme = theme(\n      plot.title = element_text(size = 35, hjust = 0.5),\n      plot.subtitle = element_markdown(size = 15, hjust = 0.5),\n      plot.caption = element_text(size = 11, hjust = 0.5),\n      plot.background = element_rect(fill = \"grey84\", color = NA)\n    )\n  ) &\n  theme(text = element_text('Bangers'))\n\n\n\n\n\nplot_final\n\n\n\n\nVisit my\nTidyTuesday Repo for a better look.\n\n\n\n",
    "preview": "posts/making-streamgraphs-in-r/making-streamgraphs-in-r_files/figure-html5/unnamed-chunk-3-1.png",
    "last_modified": "2022-05-21T10:35:29+05:30",
    "input_file": {},
    "preview_width": 1248,
    "preview_height": 768
  },
  {
    "path": "posts/amazon-bestsellers-data-analysis/",
    "title": "Amazon Bestsellers Data Analysis",
    "description": "KMeans and Exploratory Data Analysis.",
    "author": [
      {
        "name": "Karat Sidhu",
        "url": {}
      }
    ],
    "date": "2022-04-26",
    "categories": [
      "Algorithm",
      "Data-Analysis",
      "K-Means"
    ],
    "contents": "\n\nContents\nAmazon\nBestsellers\nLoading\nlibraries\nLoading Data\nExploring\nthe Data\nColumn Names\nChecking for missing\nValues\nData at a\nglance\nData\nDistribution\nall\ndata formats look good, no conversion needed for now\n\nData\nVisualization\nGenres\nBestsellers distribution by\ngenre\n\nGenres through the years\nBestsellers\ndistribution by genre by year\n\nCorrelation Analysis\nIs\nthere any correlation seen between the different numerical\nvariables?\n\nUser\nReviews vs Year\nMost\nreviewed books\nAre the number of\nreviews changing by year?\nLinear Model\nData Viz\n\n\nReviews Distribution\nUser\nRatings vs Year\nHighest\nRated Books\nAre users\nrating the bestsellers differently by year?\nLinear\nModel\nData Viz\n\n\nRatings Distribution\nRatings vs\nReviews\nPrice\nIs there\na substantial change in price over the years?\nLinear\nModel\n\n\nPrice\nDistribution\nMost\nExpensive Books\n\nAuthors\nMost Instances on the\nbest seller list\nWhat\nwere their books?\n\nBooks\nMost instances on the\nbest sellers list\n\nK -\nMeans Clustering\nHierarchical clustering\n\nAmazon Bestsellers\nLoading libraries\nsuppressPackageStartupMessages(library(tidyverse))\nsuppressPackageStartupMessages(library(skimr))\nsuppressPackageStartupMessages(library(corrplot))\nsuppressPackageStartupMessages(library(RColorBrewer))\nLoading Data\nbestsellers <- read.csv(\"bestsellers with categories.csv\")\nhead(bestsellers, 2)\n##                            Name       Author User.Rating Reviews Price Year\n## 1 10-Day Green Smoothie Cleanse     JJ Smith         4.7   17350     8 2016\n## 2             11/22/63: A Novel Stephen King         4.6    2052    22 2011\n##         Genre\n## 1 Non Fiction\n## 2     Fiction\nstr(bestsellers)\n## 'data.frame':    550 obs. of  7 variables:\n##  $ Name       : chr  \"10-Day Green Smoothie Cleanse\" \"11/22/63: A Novel\" \"12 Rules for Life: An Antidote to Chaos\" \"1984 (Signet Classics)\" ...\n##  $ Author     : chr  \"JJ Smith\" \"Stephen King\" \"Jordan B. Peterson\" \"George Orwell\" ...\n##  $ User.Rating: num  4.7 4.6 4.7 4.7 4.8 4.4 4.7 4.7 4.7 4.6 ...\n##  $ Reviews    : int  17350 2052 18979 21424 7665 12643 19735 19699 5983 23848 ...\n##  $ Price      : int  8 22 15 6 12 11 30 15 3 8 ...\n##  $ Year       : int  2016 2011 2018 2017 2019 2011 2014 2017 2018 2016 ...\n##  $ Genre      : chr  \"Non Fiction\" \"Fiction\" \"Non Fiction\" \"Fiction\" ...\nExploring the Data\nColumn Names\nbestsellers %>% colnames()\n## [1] \"Name\"        \"Author\"      \"User.Rating\" \"Reviews\"     \"Price\"      \n## [6] \"Year\"        \"Genre\"\nChecking for missing Values\nany(is.na(bestsellers))\n## [1] FALSE\nData at a glance\nunique(bestsellers$Year)\n##  [1] 2016 2011 2018 2017 2019 2014 2010 2009 2015 2013 2012\nunique(bestsellers$Genre)\n## [1] \"Non Fiction\" \"Fiction\"\nData Distribution\nskim(bestsellers)\nName\nbestsellers\nNumber of rows\n550\nNumber of columns\n7\n_______________________\n\nColumn type frequency:\n\ncharacter\n3\nnumeric\n4\n________________________\n\nGroup variables\nNone\nData summary\nVariable type: character\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\nName\n0\n1\n4\n121\n0\n351\n0\nAuthor\n0\n1\n2\n34\n0\n248\n0\nGenre\n0\n1\n7\n11\n0\n2\n0\nVariable type: numeric\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\nUser.Rating\n0\n1\n4.62\n0.23\n3.3\n4.5\n4.7\n4.80\n4.9\n▁▁▁▂▇\nReviews\n0\n1\n11953.28\n11731.13\n37.0\n4058.0\n8580.0\n17253.25\n87841.0\n▇▂▁▁▁\nPrice\n0\n1\n13.10\n10.84\n0.0\n7.0\n11.0\n16.00\n105.0\n▇▁▁▁▁\nYear\n0\n1\n2014.00\n3.17\n2009.0\n2011.0\n2014.0\n2017.00\n2019.0\n▇▅▅▅▅\nall\ndata formats look good, no conversion needed for now\nData Visualization\nGenres\nBestsellers distribution by\ngenre\nbestsellers %>%\n  group_by(Genre) %>%\n  summarise(books = n()) %>%\n  ggplot(aes(x = \"\", y = books, fill = Genre)) +\n  geom_bar(stat = \"identity\",\n           width = 1,\n           color = \"white\") +\n  coord_polar(\"y\", start = 0) +\n  theme_void() +\n  scale_fill_manual(values = c(\"#ff9900\", \"#000000\"))\n\nGenres through the years\nBestsellers\ndistribution by genre by year\nbestsellers %>%\n  group_by(Year, Genre) %>%\n  summarise(sum = n()) %>%\n  ggplot(aes(\n    x = Year,\n    y = sum,\n    fill = Genre\n  )) +\n  geom_col() +\n  theme_minimal() +\n  scale_x_continuous(breaks = seq(2009, 2019, by = 1)) +\n  scale_fill_manual(values = c(\"#ff9900\", \"#000000\")) +\n  theme(\n    panel.grid.major.x = element_blank(),\n    panel.grid.minor = element_blank(),\n    axis.title.y = element_blank(),\n    legend.title = element_blank(),\n    axis.title.x = element_blank()\n  )\n## `summarise()` has grouped output by 'Year'. You can override using the\n## `.groups` argument.\n\nCorrelation Analysis\nIs\nthere any correlation seen between the different numerical\nvariables?\nbestsellers %>%\n  select(User.Rating, Reviews, Price, Year) %>%\n  cor() %>%\n  corrplot::corrplot(\n    type = \"lower\",\n    order = \"hclust\",\n    method = \"color\",\n    addgrid.col = \"darkgray\",\n    outline = T,\n    tl.cex = 1,\n    tl.col = \"black\",\n    col = brewer.pal(n = 6, name = \"RdGy\")\n  )\n\nUser Reviews vs Year\nMost reviewed books\nbestsellers %>% \n  select(Name, Reviews) %>% \n  arrange(desc(Reviews)) %>% \n  head(20) %>% \n  distinct()\n##                                                                                        Name\n## 1                                                                   Where the Crawdads Sing\n## 2                                                                     The Girl on the Train\n## 3                                                                                  Becoming\n## 4                                                                                 Gone Girl\n## 5                                                                    The Fault in Our Stars\n## 6                                                                  The Nightingale: A Novel\n## 7  Fifty Shades of Grey: Book One of the Fifty Shades Trilogy (Fifty Shades of Grey Series)\n## 8                                                                               The Martian\n## 9                                                               All the Light We Cannot See\n## 10                                                                            The Alchemist\n##    Reviews\n## 1    87841\n## 2    79446\n## 3    61133\n## 4    57271\n## 5    50482\n## 6    49288\n## 7    47265\n## 8    39459\n## 9    36348\n## 10   35799\nAre the number of\nreviews changing by year?\nLinear Model\nbestsellers %>% \n  lm(formula = Year ~ Reviews) %>% \n  summary()\n## \n## Call:\n## lm(formula = Year ~ Reviews, data = .)\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -5.5523 -2.5991 -0.3255  2.5354  5.6549 \n## \n## Coefficients:\n##              Estimate Std. Error   t value Pr(>|t|)    \n## (Intercept) 2.013e+03  1.861e-01 10816.121  < 2e-16 ***\n## Reviews     7.111e-05  1.112e-05     6.396 3.42e-10 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 3.056 on 548 degrees of freedom\n## Multiple R-squared:  0.06946,    Adjusted R-squared:  0.06777 \n## F-statistic: 40.91 on 1 and 548 DF,  p-value: 3.423e-10\nData Viz\nbestsellers %>% \n  ggplot(aes(Year, Reviews, color = Genre))+\n geom_jitter()+\n geom_smooth(method = 'lm', formula = y ~ x )+\n  theme_minimal() +\n    scale_color_manual(values = c(\"#ff9900\", \"#000000\")) +\n    scale_x_continuous(breaks = seq(2009, 2019, by = 1))+\n   theme(\n    panel.grid.minor = element_blank(),\n    legend.title = element_blank(),\n    axis.title.x = element_blank()\n  )\n\nReviews Distribution\nbestsellers %>% \n  ggplot(aes(Reviews, ..density..)) +\n  geom_histogram(fill = \"#ff9900\", color = 'black',binwidth = 1000) +\n    geom_density(alpha = 0.5, fill = \"#ff9900\") +\n  theme_minimal() +\n  theme(\n    panel.grid.major = element_blank())\n\nUser Ratings vs Year\nHighest Rated Books\nbestsellers %>% \n  select(Name, User.Rating) %>% \n  arrange(desc(User.Rating)) %>% \n  head(20) %>% \n  distinct()\n##                                                                                               Name\n## 1                                                         Brown Bear, Brown Bear, What Do You See?\n## 2                         Dog Man and Cat Kid: From the Creator of Captain Underpants (Dog Man #4)\n## 3              Dog Man: A Tale of Two Kitties: From the Creator of Captain Underpants (Dog Man #3)\n## 4                  Dog Man: Brawl of the Wild: From the Creator of Captain Underpants (Dog Man #6)\n## 5                           Dog Man: Fetch-22: From the Creator of Captain Underpants (Dog Man #8)\n## 6            Dog Man: For Whom the Ball Rolls: From the Creator of Captain Underpants (Dog Man #7)\n## 7                  Dog Man: Lord of the Fleas: From the Creator of Captain Underpants (Dog Man #5)\n## 8  Goodnight, Goodnight Construction Site (Hardcover Books for Toddlers, Preschool Books for Kids)\n## 9                                                                         Hamilton: The Revolution\n## 10         Harry Potter and the Chamber of Secrets: The Illustrated Edition (Harry Potter, Book 2)\n## 11         Harry Potter and the Goblet of Fire: The Illustrated Edition (Harry Potter, Book 4) (4)\n## 12        Harry Potter and the Prisoner of Azkaban: The Illustrated Edition (Harry Potter, Book 3)\n## 13           Harry Potter and the Sorcerer's Stone: The Illustrated Edition (Harry Potter, Book 1)\n## 14                                                                    Humans of New York : Stories\n## 15                       Jesus Calling: Enjoying Peace in His Presence (with Scripture References)\n##    User.Rating\n## 1          4.9\n## 2          4.9\n## 3          4.9\n## 4          4.9\n## 5          4.9\n## 6          4.9\n## 7          4.9\n## 8          4.9\n## 9          4.9\n## 10         4.9\n## 11         4.9\n## 12         4.9\n## 13         4.9\n## 14         4.9\n## 15         4.9\nAre users\nrating the bestsellers differently by year?\nLinear Model\nbestsellers %>% \n  lm(formula = Year ~ Reviews) %>% \n  summary()\n## \n## Call:\n## lm(formula = Year ~ Reviews, data = .)\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -5.5523 -2.5991 -0.3255  2.5354  5.6549 \n## \n## Coefficients:\n##              Estimate Std. Error   t value Pr(>|t|)    \n## (Intercept) 2.013e+03  1.861e-01 10816.121  < 2e-16 ***\n## Reviews     7.111e-05  1.112e-05     6.396 3.42e-10 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 3.056 on 548 degrees of freedom\n## Multiple R-squared:  0.06946,    Adjusted R-squared:  0.06777 \n## F-statistic: 40.91 on 1 and 548 DF,  p-value: 3.423e-10\nData Viz\nbestsellers %>% \n  ggplot(aes(Year, User.Rating, color = Genre))+\n geom_jitter()+\n geom_smooth(method = 'lm', formula = y ~ x )+\n  theme_minimal() +\n    scale_color_manual(values = c(\"#ff9900\", \"#000000\")) +\n    scale_x_continuous(breaks = seq(2009, 2019, by = 1))+\n   theme(\n    panel.grid.minor = element_blank(),\n    legend.title = element_blank(),\n    axis.title.x = element_blank()\n  )\n\nRatings Distribution\nbestsellers %>%\n  ggplot(aes(User.Rating, ..density..)) +\n  geom_histogram(fill = \"#ff9900\",\n                 color = 'black',\n                 binwidth = 0.1) +\n  geom_density(alpha = 0.5, fill = \"#ff9900\") +\n  theme_minimal() +\n  theme(panel.grid.major = element_blank())\n\nRatings vs Reviews\nggplot(bestsellers) +\n  aes(\n    x = Reviews,\n    y = User.Rating,\n    colour = Genre,\n    size = Reviews\n  ) +\n  geom_jitter(alpha = 0.45) +\n  scale_color_manual(\n    values = c(Fiction = \"#ff9900\",\n    `Non Fiction` = \"#000000\")\n  ) +\n  theme_minimal()\n\nPrice\nIs there\na substantial change in price over the years?\nLinear Model\nbestsellers %>% \n  lm(formula = Year ~ Price) %>% \n  summary()\n## \n## Call:\n## lm(formula = Year ~ Price, data = .)\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -5.5439 -2.6449 -0.0944  2.7708  5.6248 \n## \n## Coefficients:\n##               Estimate Std. Error  t value Pr(>|t|)    \n## (Intercept) 2014.58885    0.20945 9618.334  < 2e-16 ***\n## Price         -0.04495    0.01232   -3.648 0.000289 ***\n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 3.13 on 548 degrees of freedom\n## Multiple R-squared:  0.02371,    Adjusted R-squared:  0.02193 \n## F-statistic: 13.31 on 1 and 548 DF,  p-value: 0.0002895\nbestsellers %>% \n  ggplot(aes(Year, Price, color = Genre))+\n geom_jitter()+\n geom_smooth(method = 'lm', formula = y ~ x )+\n  theme_minimal() +\n    scale_color_manual(values = c(\"#ff9900\", \"#000000\")) +\n    scale_x_continuous(breaks = seq(2009, 2019, by = 1))+\n   theme(\n    panel.grid.minor = element_blank(),\n    legend.title = element_blank(),\n    axis.title.x = element_blank()\n  )\n\nPrice Distribution\nbestsellers %>%\n  ggplot(aes(Price, ..density..)) +\n  geom_histogram(fill = \"#ff9900\",\n                 color = 'black',\n                 binwidth = 1.3) +\n  geom_density(alpha = 0.5, fill = \"#ff9900\") +\n  theme_minimal() +\n  theme(panel.grid.major = element_blank())\n\nMost Expensive Books\nbestsellers %>% \n  select(Name, Price) %>% \n  arrange(desc(Price)) %>% \n  head(20) %>% \n  distinct() %>% \n    ggplot(aes(x =reorder(Name, Price), y = Price,\n              fill = ifelse(Price == max(Price), \"red\",\"grey\"))) +\n  geom_col() +\n  coord_flip() +\n  scale_fill_manual(values = c(\"#000000\", \"#ff9900\")) +\n  theme_minimal() +\n  theme(\n    panel.grid.minor = element_blank(),\n    panel.grid.major.y = element_blank(),\n    legend.position = \"none\",\n    axis.title.y = element_blank()\n  )\n\nAuthors\nMost Instances on the\nbest seller list\nbestsellers %>% \n  group_by(Author) %>% \n  summarise(count = n()) %>% \n  arrange(desc(count)) %>% \n  head(10) %>% \n  ggplot(aes(x =reorder(Author, count), y = count,\n              fill = ifelse(count == max(count), \"red\",\"grey\"))) +\n  scale_y_continuous(breaks = seq(0, 13, by = 1))+\n  geom_col() +\n  coord_flip() +\n  scale_fill_manual(values = c(\"#000000\", \"#ff9900\")) +\n  theme_minimal() +\n  theme(\n    panel.grid.minor = element_blank(),\n    panel.grid.major.y = element_blank(),\n    legend.position = \"none\",\n    axis.title.y = element_blank()\n  )\n\nWhat were their books?\nbestsellers %>% \n  filter(Author==\"Jeff Kinney\")\n##                                                  Name      Author User.Rating\n## 1          Cabin Fever (Diary of a Wimpy Kid, Book 6) Jeff Kinney         4.8\n## 2             Diary of a Wimpy Kid: Hard Luck, Book 8 Jeff Kinney         4.8\n## 3       Diary of a Wimpy Kid: The Last Straw (Book 3) Jeff Kinney         4.8\n## 4                 Diary of a Wimpy Kid: The Long Haul Jeff Kinney         4.8\n## 5  Dog Days (Diary of a Wimpy Kid, Book 4) (Volume 4) Jeff Kinney         4.8\n## 6              Double Down (Diary of a Wimpy Kid #11) Jeff Kinney         4.8\n## 7               Old School (Diary of a Wimpy Kid #10) Jeff Kinney         4.8\n## 8                                         The Getaway Jeff Kinney         4.8\n## 9         The Meltdown (Diary of a Wimpy Kid Book 13) Jeff Kinney         4.8\n## 10     The Third Wheel (Diary of a Wimpy Kid, Book 7) Jeff Kinney         4.7\n## 11      The Ugly Truth (Diary of a Wimpy Kid, Book 5) Jeff Kinney         4.8\n## 12       Wrecking Ball (Diary of a Wimpy Kid Book 14) Jeff Kinney         4.9\n##    Reviews Price Year   Genre\n## 1     4505     0 2011 Fiction\n## 2     6812     0 2013 Fiction\n## 3     3837    15 2009 Fiction\n## 4     6540    22 2014 Fiction\n## 5     3181    12 2009 Fiction\n## 6     5118    20 2016 Fiction\n## 7     6169     7 2015 Fiction\n## 8     5836     0 2017 Fiction\n## 9     5898     8 2018 Fiction\n## 10    6377     7 2012 Fiction\n## 11    3796    12 2010 Fiction\n## 12    9413     8 2019 Fiction\nBooks\nMost instances on the\nbest sellers list\nbestsellers %>% \n  group_by(Name) %>% \n  summarise(count = n()) %>% \n  arrange(desc(count)) %>% \n  head(10) %>% \n  ggplot(aes(x =reorder(Name, count), y = count,\n              fill = ifelse(count == max(count), \"red\",\"grey\"))) +\n    scale_y_continuous(breaks = seq(0, 13, by = 1))+\n  geom_col() +\n  coord_flip() +\n  scale_fill_manual(values = c(\"#000000\", \"#ff9900\")) +\n  theme_minimal() +\n  theme(\n    panel.grid.minor = element_blank(),\n    panel.grid.major.y = element_blank(),\n    legend.position = \"none\",\n    axis.title.y = element_blank()\n  )\n\nK - Means Clustering\ndata_kmeans <- bestsellers[3:6]\ndata_kmeans <- data_kmeans %>% \n  slice(1:20)\nlibrary(factoextra)\n## Welcome! Want to learn more? See two factoextra-related books at https://goo.gl/ve3WBa\ndata_kmeans <- bestsellers[3:6]\ndata_kmeans <- data_kmeans %>% \n  slice(1:20)\n\ndata_kmeans_scaled <- scale(data_kmeans)\ndata_kmeans <- dist(data_kmeans_scaled)\nfviz_nbclust(data_kmeans_scaled, kmeans,\n             method = \"wss\") + # wss means within sum squares\n  labs(subtitle = \"Elbow Method\")\n\nkmeans_output <- kmeans(data_kmeans_scaled, centers = 3, nstart = 100)\nkmeans_output.clusters <- kmeans_output$cluster\nbestsellers_mini <- bestsellers %>% \n  slice(1:20)\nrownames(data_kmeans_scaled) <- paste(bestsellers_mini$Name, 1:dim(bestsellers_mini)[1], sep=\"_\")\nfviz_cluster(list(data = data_kmeans_scaled, cluster = kmeans_output.clusters)) +\n  theme_minimal() +\n  theme(plot.subtitle = element_text(size = 12,\n                               face = \"italic\"),\n  plot.caption = element_text(size = 9),\n  plot.title = element_text(size = 15,\n                            face = \"bold\")\n) + labs(\n  colour = \"Cluster\",\n  fill = \"Cluster\",\n  shape = \"Cluster\",\n)\n\ntest <- table(kmeans_output.clusters, bestsellers_mini$Name)\nas.data.frame(test)\n##    kmeans_output.clusters\n## 1                       1\n## 2                       2\n## 3                       3\n## 4                       1\n## 5                       2\n## 6                       3\n## 7                       1\n## 8                       2\n## 9                       3\n## 10                      1\n## 11                      2\n## 12                      3\n## 13                      1\n## 14                      2\n## 15                      3\n## 16                      1\n## 17                      2\n## 18                      3\n## 19                      1\n## 20                      2\n## 21                      3\n## 22                      1\n## 23                      2\n## 24                      3\n## 25                      1\n## 26                      2\n## 27                      3\n## 28                      1\n## 29                      2\n## 30                      3\n## 31                      1\n## 32                      2\n## 33                      3\n## 34                      1\n## 35                      2\n## 36                      3\n## 37                      1\n## 38                      2\n## 39                      3\n## 40                      1\n## 41                      2\n## 42                      3\n## 43                      1\n## 44                      2\n## 45                      3\n## 46                      1\n## 47                      2\n## 48                      3\n## 49                      1\n## 50                      2\n## 51                      3\n## 52                      1\n## 53                      2\n## 54                      3\n## 55                      1\n## 56                      2\n## 57                      3\n##                                                                                                                     Var2\n## 1                                                                                          10-Day Green Smoothie Cleanse\n## 2                                                                                          10-Day Green Smoothie Cleanse\n## 3                                                                                          10-Day Green Smoothie Cleanse\n## 4                                                                                                      11/22/63: A Novel\n## 5                                                                                                      11/22/63: A Novel\n## 6                                                                                                      11/22/63: A Novel\n## 7                                                                                12 Rules for Life: An Antidote to Chaos\n## 8                                                                                12 Rules for Life: An Antidote to Chaos\n## 9                                                                                12 Rules for Life: An Antidote to Chaos\n## 10                                                                                                1984 (Signet Classics)\n## 11                                                                                                1984 (Signet Classics)\n## 12                                                                                                1984 (Signet Classics)\n## 13                                                    5,000 Awesome Facts (About Everything!) (National Geographic Kids)\n## 14                                                    5,000 Awesome Facts (About Everything!) (National Geographic Kids)\n## 15                                                    5,000 Awesome Facts (About Everything!) (National Geographic Kids)\n## 16                                                                         A Dance with Dragons (A Song of Ice and Fire)\n## 17                                                                         A Dance with Dragons (A Song of Ice and Fire)\n## 18                                                                         A Dance with Dragons (A Song of Ice and Fire)\n## 19                    A Game of Thrones / A Clash of Kings / A Storm of Swords / A Feast of Crows / A Dance with Dragons\n## 20                    A Game of Thrones / A Clash of Kings / A Storm of Swords / A Feast of Crows / A Dance with Dragons\n## 21                    A Game of Thrones / A Clash of Kings / A Storm of Swords / A Feast of Crows / A Dance with Dragons\n## 22                                                                                        A Gentleman in Moscow: A Novel\n## 23                                                                                        A Gentleman in Moscow: A Novel\n## 24                                                                                        A Gentleman in Moscow: A Novel\n## 25                                                                         A Higher Loyalty: Truth, Lies, and Leadership\n## 26                                                                         A Higher Loyalty: Truth, Lies, and Leadership\n## 27                                                                         A Higher Loyalty: Truth, Lies, and Leadership\n## 28                                                                                             A Man Called Ove: A Novel\n## 29                                                                                             A Man Called Ove: A Novel\n## 30                                                                                             A Man Called Ove: A Novel\n## 31                        A Patriot's History of the United States: From Columbus's Great Discovery to the War on Terror\n## 32                        A Patriot's History of the United States: From Columbus's Great Discovery to the War on Terror\n## 33                        A Patriot's History of the United States: From Columbus's Great Discovery to the War on Terror\n## 34                                                                                               A Stolen Life: A Memoir\n## 35                                                                                               A Stolen Life: A Memoir\n## 36                                                                                               A Stolen Life: A Memoir\n## 37                                                                                      A Wrinkle in Time (Time Quintet)\n## 38                                                                                      A Wrinkle in Time (Time Quintet)\n## 39                                                                                      A Wrinkle in Time (Time Quintet)\n## 40          Act Like a Lady, Think Like a Man: What Men Really Think About Love, Relationships, Intimacy, and Commitment\n## 41          Act Like a Lady, Think Like a Man: What Men Really Think About Love, Relationships, Intimacy, and Commitment\n## 42          Act Like a Lady, Think Like a Man: What Men Really Think About Love, Relationships, Intimacy, and Commitment\n## 43     Adult Coloring Book Designs: Stress Relief Coloring Book: Garden Designs, Mandalas, Animals, and Paisley Patterns\n## 44     Adult Coloring Book Designs: Stress Relief Coloring Book: Garden Designs, Mandalas, Animals, and Paisley Patterns\n## 45     Adult Coloring Book Designs: Stress Relief Coloring Book: Garden Designs, Mandalas, Animals, and Paisley Patterns\n## 46                                                                  Adult Coloring Book: Stress Relieving Animal Designs\n## 47                                                                  Adult Coloring Book: Stress Relieving Animal Designs\n## 48                                                                  Adult Coloring Book: Stress Relieving Animal Designs\n## 49                                                                        Adult Coloring Book: Stress Relieving Patterns\n## 50                                                                        Adult Coloring Book: Stress Relieving Patterns\n## 51                                                                        Adult Coloring Book: Stress Relieving Patterns\n## 52 Adult Coloring Books: A Coloring Book for Adults Featuring Mandalas and Henna Inspired Flowers, Animals, and Paisley…\n## 53 Adult Coloring Books: A Coloring Book for Adults Featuring Mandalas and Henna Inspired Flowers, Animals, and Paisley…\n## 54 Adult Coloring Books: A Coloring Book for Adults Featuring Mandalas and Henna Inspired Flowers, Animals, and Paisley…\n## 55                                                                                                    Alexander Hamilton\n## 56                                                                                                    Alexander Hamilton\n## 57                                                                                                    Alexander Hamilton\n##    Freq\n## 1     0\n## 2     0\n## 3     1\n## 4     1\n## 5     0\n## 6     0\n## 7     0\n## 8     0\n## 9     1\n## 10    0\n## 11    0\n## 12    1\n## 13    0\n## 14    0\n## 15    1\n## 16    0\n## 17    1\n## 18    0\n## 19    1\n## 20    0\n## 21    0\n## 22    0\n## 23    0\n## 24    1\n## 25    0\n## 26    0\n## 27    1\n## 28    0\n## 29    0\n## 30    2\n## 31    0\n## 32    1\n## 33    0\n## 34    1\n## 35    0\n## 36    0\n## 37    0\n## 38    1\n## 39    0\n## 40    1\n## 41    0\n## 42    0\n## 43    0\n## 44    1\n## 45    0\n## 46    0\n## 47    1\n## 48    0\n## 49    0\n## 50    1\n## 51    0\n## 52    0\n## 53    1\n## 54    0\n## 55    0\n## 56    0\n## 57    1\nHierarchical clustering\nres <- hcut(data_kmeans_scaled, k = 4, stand = TRUE)\n# Visualize\nfviz_dend(res, rect = TRUE, cex = 0.3,\n          k_colors = c(\"#00AFBB\",\"#2E9FDF\", \"#E7B800\", \"#FC4E07\")) +\n  theme_minimal()\n## Warning: `guides(<scale> = FALSE)` is deprecated. Please use `guides(<scale> =\n## \"none\")` instead.\n\n\n\n\n",
    "preview": {},
    "last_modified": "2022-05-21T17:42:19+05:30",
    "input_file": {}
  },
  {
    "path": "posts/netflix-original-movies-eda/",
    "title": "Netflix Original Movies - EDA",
    "description": "Exploratory Data Analysis, and data vis with ggplot2.",
    "author": [
      {
        "name": "Karat Sidhu",
        "url": {}
      }
    ],
    "date": "2022-04-21",
    "categories": [
      "GGplot2",
      "Data-Analysis"
    ],
    "contents": "\n\nContents\nNetflix Movies\nLoading\nlibraries\nLoading data\nLooking at the data in brief\nType of datatype in each\ncolumn\nDoes the data contain any\nN/A values?\n\nConverting the\n`premier` from chr to datetime\nGetting each year,\nmonth and date separated\nAlso\nadding the corresponding day of the week for each release\n\nWhen the movies were released\nNumber of Movies released\neach year\nNumber of Movies released\neach month\nNumber of Movies\nreleased by date of the month\nNumber of Movies\nreleased each day of the week\n\nMost\nPopular Genres\n5\nMost Popular Genres\n\nMost Popular Languages\n5 Most Popular Languages\n\nIMDB Scores\nHow were most movies rated?\nHighest Rated Movies\nLowest\nRated Movies\n\nRuntime\nHow long are the movies?\nLongest\nMovies\nShortest\nMovies\n\nRuntime vs IMDB-Score\nBasic Statistical Analysis\nLinear\nModels\nCorrelation\nTest\nP-value\nCorrelation Coefficient\n\nThank you!\n\n\nNetflix Movies\nnetflix-intro-netflix.gif (498×278)\n(tenor.comLoading libraries\nsuppressPackageStartupMessages(library(tidyverse))\nsuppressPackageStartupMessages(library(lubridate))\nsuppressPackageStartupMessages(library(showtext))\nshowtext.auto()\n## 'showtext.auto()' is now renamed to 'showtext_auto()'\n## The old version still works, but consider using the new function in future code\nfont_add_google(\"Bebas Neue\", \"Bebas Neue\")\nLoading data\nnetflix <- read.csv(\"NetflixOriginals.csv\")\nLooking at the data in brief\nhead(netflix, 4)\n##             Title                 Genre          Premiere Runtime IMDB.Score\n## 1 Enter the Anime           Documentary    August 5, 2019      58        2.5\n## 2     Dark Forces              Thriller   August 21, 2020      81        2.6\n## 3         The App Science fiction/Drama December 26, 2019      79        2.6\n## 4  The Open House       Horror thriller  January 19, 2018      94        3.2\n##           Language\n## 1 English/Japanese\n## 2          Spanish\n## 3          Italian\n## 4          English\nType of datatype in each\ncolumn\nas.tibble(sapply(netflix, class))\n## Warning: `as.tibble()` was deprecated in tibble 2.0.0.\n## Please use `as_tibble()` instead.\n## The signature and semantics have changed, see `?as_tibble`.\n## This warning is displayed once every 8 hours.\n## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.\n\n## # A tibble: 6 × 1\n##   value    \n##   <chr>    \n## 1 character\n## 2 character\n## 3 character\n## 4 integer  \n## 5 numeric  \n## 6 character\nDoes the data contain any\nN/A values?\nany(is.na(netflix))\n## [1] FALSE\nConverting the\n`premier` from chr to datetime\nnetflix <- netflix %>% \n  mutate(Released = mdy(Premiere))\nGetting each year,\nmonth and date separated\nAlso\nadding the corresponding day of the week for each release\nnetflix <- netflix %>% \n  mutate(Year = year(Released)) %>% \n  mutate(Month = month(Released, label = TRUE)) %>% \n  mutate(Date = day(Released)) %>% \n  mutate(Day = wday(Released, label = TRUE, abbr = FALSE))\nWhen the movies were\nreleased\nNumber of Movies released\neach year\nnetflix %>%\n  group_by(Year) %>%\n  summarise(total = n()) %>%\n  ggplot(aes(\n    x = Year,\n    y = total,\n    fill = ifelse(total == max(total), \"red\",\"grey\"))) +\n  geom_col() +\n  labs(title = \"Netflix Movies released each year\") +\n  theme_minimal() +\n  scale_fill_manual(values = c(\"#2d2d2d\", \"#E50914\")) +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 35,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank(),\n    panel.grid.minor  = element_blank(),\n    text = element_text(size = 20))\n\nNumber of Movies released\neach month\nnetflix %>%\n  group_by(Month) %>%\n  summarise(total = n()) %>%\n  ggplot(aes(\n    x = Month,\n    y = total,\n    fill = ifelse(total == max(total), \"red\",\"grey\"))) +\n  geom_col() +\n    labs(title = \"Netflix Movies released each month\") +\n  theme_minimal() +\n  scale_fill_manual(values = c( \"#2d2d2d\", \"#E50914\")) +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 30,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank(),\n    text = element_text(size = 20))\n\nNumber of Movies\nreleased by date of the month\nnetflix %>%\n  group_by(Date) %>%\n  summarise(total = n()) %>%\n  ggplot(aes(\n    x = Date,\n    y = total,\n    fill = ifelse(total == max(total), \"red\",\"grey\")))  +\n  geom_col() +\n    labs(title = \"Netflix Movies released by Date of each month\") +\n  theme_minimal() +\n  scale_fill_manual(values = c( \"#2d2d2d\", \"#E50914\")) +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 30,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank(),\n    panel.grid.minor = element_blank(),\n    text = element_text(size = 20))\n\nNumber of Movies\nreleased each day of the week\nnetflix %>%\n  group_by(Day) %>%\n  summarise(total = n()) %>%\n  ggplot(aes(\n    x = Day,\n    y = total,\n    fill = ifelse(total == max(total), \"red\",\"black\"))) +\n  geom_col() +\n  labs(title = \"Netflix Movies released by day of the week\") +\n  theme_minimal() +\n  scale_fill_manual(values = c( \"#2d2d2d\", \"#E50914\")) +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 30,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank(),\n    text = element_text(size = 20))\n\nMost Popular Genres\n5 Most Popular Genres\nnetflix %>% \n  group_by(Genre) %>% \n  summarise(Movies = n()) %>% \n  arrange(desc(Movies)) %>% \n  head(5) %>% \n   ggplot(aes(\n    x = reorder(Genre, -Movies),\n    y = Movies,\n    fill = ifelse(Movies == max(Movies), \"red\", \"black\"))) +\n  geom_col() +\n  labs(title = \"Most Popular Genres\") +\n  theme_minimal() +\n  scale_fill_manual(values = c( \"#2d2d2d\", \"#E50914\")) +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 30,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank(),\n    text = element_text(size = 20))\n\nMost Popular Languages\n5 Most Popular Languages\nnetflix %>% \n  group_by(Language) %>% \n  summarise(Movies = n()) %>% \n  arrange(desc(Movies)) %>% \n  head(5) %>% \n   ggplot(aes(\n    x = reorder(Language, -Movies),\n    y = Movies,\n    fill = ifelse(Movies == max(Movies), \"red\", \"black\"))) +\n  geom_col() +\n  labs(title = \"Most Popular Languages\") +\n  theme_minimal() +\n  scale_fill_manual(values = c( \"#2d2d2d\", \"#E50914\")) +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 30,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank(),\n    text = element_text(size = 20))\n\nIMDB Scores\nHow were most movies rated?\nnetflix %>%\n  ggplot(aes(x = `IMDB.Score`)) +\n  geom_dotplot(binwidth = 0.1,\n               fill = \"#2d2d2d\",\n               color = \"#e9ecef\") +\n  labs(title = \"IMDB Score Distribution\") +\n  theme_minimal() +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 25,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank()\n  ) \n\nHighest Rated Movies\nnetflix %>% \n  arrange(desc(`IMDB.Score`)) %>% \n  head(5) %>% \n   ggplot(aes(\n    x = reorder(`Title`, `IMDB.Score`),\n    y = `IMDB.Score`,\n    fill = ifelse(`IMDB.Score` == max(`IMDB.Score`), \"red\", \"black\"))) +\n  geom_col() +\n  labs(title = \"Highest Rated Movies\") +\n  theme_minimal() +\n  scale_fill_manual(values = c( \"#2d2d2d\", \"#E50914\")) +\n  coord_flip() +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 25,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank())\n\nLowest Rated Movies\nnetflix %>% \n  arrange(desc(-`IMDB.Score`)) %>% \n  head(5) %>% \n  ggplot(aes(\n    x = reorder(`Title`, -`IMDB.Score`),\n    y = `IMDB.Score`,\n    fill = ifelse(`IMDB.Score` == min(`IMDB.Score`), \"red\", \"black\"))) +\n  geom_col() +\n  labs(title = \"Lowest Rated Movies\") +\n  theme_minimal() +\n  scale_fill_manual(values = c( \"#2d2d2d\", \"#E50914\")) +\n  coord_flip() +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 25,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank())\n\nRuntime\nHow long are the movies?\nnetflix %>%\n  ggplot(aes(x = Runtime)) +\n  geom_dotplot(binwidth = 2.25,\n               fill = \"#2d2d2d\",\n               color = \"#e9ecef\") +\n  labs(title = \"Movie Runtime\") +\n  theme_minimal() +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 25,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank()\n  ) \n\nLongest Movies\nnetflix %>% \n  arrange(desc(Runtime)) %>% \n  head(5) %>% \n  ggplot(aes(\n    x = reorder(`Title`, `Runtime`),\n    y = `Runtime`,\n    fill = ifelse(Runtime == max(`Runtime`), \"red\", \"black\"))) +\n  geom_col() +\n  labs(title = \"Longest Movies\") +\n  theme_minimal() +\n  scale_fill_manual(values = c( \"#2d2d2d\", \"#E50914\")) +\n  coord_flip() +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 25,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank())\n\nShortest Movies\nnetflix %>% \n  arrange(desc(-Runtime)) %>% \n  head(5) %>% \n  ggplot(aes(\n    x = reorder(`Title`, `Runtime`),\n    y = `Runtime`,\n    fill = ifelse(Runtime == min(`Runtime`), \"red\", \"black\"))) +\n  geom_col() +\n  labs(title = \"Shortest Movies\") +\n  theme_minimal() +\n  scale_fill_manual(values = c( \"#2d2d2d\", \"#E50914\")) +\n  coord_flip() +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 25,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank(),\n    text = element_text(size = 20))\n\nRuntime vs IMDB-Score\nnetflix %>% \n  ggplot(aes(x=`IMDB.Score`, y= Runtime)) +\n  geom_point() +\n  geom_smooth(method = lm,colour = \"#E50914\") +\n  labs(title = \"Runtime vs IMDB Rating\") +\n  theme_minimal() +\n  scale_fill_manual(values = c( \"#2d2d2d\", \"#E50914\")) +\n  theme(\n    legend.position = \"none\",\n    plot.title = element_text(\n      family = \"Bebas Neue\",\n      size = 25,\n      colour = \"#E50914\"\n    ),\n    axis.title.x = element_blank(),\n    axis.title.y = element_blank(),\n    panel.grid.major.x = element_blank())\n## `geom_smooth()` using formula 'y ~ x'\n\nBasic Statistical Analysis\nLinear Models\nmodel <- lm(data = netflix, formula = Runtime ~ `IMDB.Score`)\nsummary(model)\n## \n## Call:\n## lm(formula = Runtime ~ IMDB.Score, data = netflix)\n## \n## Residuals:\n##     Min      1Q  Median      3Q     Max \n## -91.399  -7.439   3.398  14.467 117.195 \n## \n## Coefficients:\n##             Estimate Std. Error t value Pr(>|t|)    \n## (Intercept)  100.849      7.453  13.531   <2e-16 ***\n## IMDB.Score    -1.159      1.174  -0.987    0.324    \n## ---\n## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n## \n## Residual standard error: 27.76 on 582 degrees of freedom\n## Multiple R-squared:  0.001673,   Adjusted R-squared:  -4.283e-05 \n## F-statistic: 0.975 on 1 and 582 DF,  p-value: 0.3238\nCorrelation Test\nres <- cor.test(netflix$Runtime, netflix$IMDB.Score, \n                    method = \"pearson\")\nres\n## \n##  Pearson's product-moment correlation\n## \n## data:  netflix$Runtime and netflix$IMDB.Score\n## t = -0.98744, df = 582, p-value = 0.3238\n## alternative hypothesis: true correlation is not equal to 0\n## 95 percent confidence interval:\n##  -0.12162699  0.04037194\n## sample estimates:\n##         cor \n## -0.04089629\nP-value\nres$p.value\n## [1] 0.3238393\nCorrelation Coefficient\nres$estimate\n##         cor \n## -0.04089629\nThank you!\nend\n\n\n",
    "preview": {},
    "last_modified": "2022-05-21T17:48:08+05:30",
    "input_file": {}
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome to karat_codes",
    "description": "Welcome to my new blog, karat_codes.",
    "author": [
      {
        "name": "Karat Sidhu",
        "url": {}
      }
    ],
    "date": "2020-05-21",
    "categories": [
      "misc"
    ],
    "contents": "\nThis is a new blog that I made with distill package in R\nIts based on a custom css theme that I am constantly tweaking.\nSource code for everything available on my github.\ngithub.com/SidhuK\n\n\n\n",
    "preview": {},
    "last_modified": "2022-05-21T11:11:08+05:30",
    "input_file": {}
  }
]
